<div class="container-fluid">
    <div class="row">
        <div class="col-12 col-lg-2 m-p-0">
            <app-sidebar></app-sidebar>
        </div>
        <div class="col-12 col-lg-10 m-p-0">
            <app-navabr></app-navabr>
            <router-outlet></router-outlet>
            <footer class="border-top bg-dark p-2 float-bottom mt-5">
                <div class="col-lg-6">
                    <h6 class="text-white m-p-0">SHUBHAM LOHAR</h6>
                    <p class="text-white m-p-0"><small>shubhamlohar952@gmail.com</small></p>
                </div>
            </footer>
        </div>
    </div>
</div>

<div class="container-fluid">
    <button class="openButton" onclick="openForm()">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chat-dots-fill"
            viewBox="0 0 16 16">
            <path
                d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
        </svg></button>
    <div class="chat-popup p-1" id="myForm">
        <form class="form-container" (ngSubmit)="sendMessage(sendForm)" #sendForm="ngForm" style="border-radius: 12px;">
            <div class="d-flex bd-highlight">
                <div class="p-2 w-100 bd-highlight">
                    <a class="nav-link mx-3 text-white">Chatting Box</a>
                </div>
                <div class="p-2 flex-shrink-1 bd-highlight">
                    <a class="nav-link text-white" style="cursor: pointer;" onclick="closeForm()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                            class="bi bi-power" viewBox="0 0 16 16">
                            <path d="M7.5 1v7h1V1h-1z" />
                            <path
                                d="M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z" />
                        </svg>
                    </a>
                </div>
              </div>
            <div class=" chatBox">
                <div class="row p-3" style="height: 50vh; width: 400px;">
                    <div class="col-lg-12 scroll">


                        <div class="row">
                            <div class="col-md-12 mt-2" *ngFor="let chatMessage of webSocket.chatMessages">
                                    <div class="row">
                                        <div class="col-auto me-auto"></div>
                                        <div class="col-auto chat-1" *ngIf="chatMessage.user == user.firstName">
                                            <p class="text-white" style="font-size: 15px;"><small style="font-weight: bold;">{{chatMessage.user}}: </small>
                                            <small>{{chatMessage.message}}</small></p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-auto me-auto chat-2"  *ngIf="chatMessage.user != user.firstName">
                                            <p class="text-white" style="font-size: 15px;"><small style="font-weight: bold;">{{chatMessage.user}}: </small>
                                                <small>{{chatMessage.message}}</small></p>
                                        </div>
                                        <div class="col-auto"></div>
                                    </div>
                            </div>
                        </div>



                    </div>
                </div>
                <div class="p-2" style="background: rgb(42, 42, 85);">
                    <div class="input-group">
                        <input type="text" class="form-control" style="background: transparent; color:white;"
                            name="message" id="input-message" placeholder="Type here.." ngModel>
                        <span class="input-group-text">
                            <button style="border: none; background: transparent;" type="submit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-send-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z" />
                                </svg>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>